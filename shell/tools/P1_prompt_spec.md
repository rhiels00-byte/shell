
# Prompt Spec – P1 (풀이 과정)

본 문서는 **Input 1: 풀이 과정(Math Canvas Activity)**에 대한  
프롬프트 설계 명세서이다.  
P1은 분석(Analysis)과 처방(Recommendation)을 명확히 분리한다.

---

## 1. 프롬프트 네이밍 규칙 (공통)

### 1.1 기본 규칙

프롬프트 명칭은 다음 구조를 따른다.

```
P{Input번호}.{단계코드} – {역할 설명}
```

- **P{Input번호}**: 입력 데이터의 종류
  - P1: 풀이 과정 (영상/이미지)
  - P2: 학습심리정서검사 (SEL)
  - P3: 평가 결과 (추후)

- **단계코드**
  - A: 현재 분석 (Analysis / Fact)
  - B: Next Step 도출 (Recommendation)

- **역할 설명**: 프롬프트의 실제 기능을 자연어로 명시

---

### 1.2 단계 코드 의미

| 코드 | 의미 | 성격 |
|---|---|---|
| A | 현재 상태 분석 | 사실(Fact), 과거·현재 |
| B | 다음 단계 제안 | 처방(Recommendation), 미래 |

**A 단계와 B 단계는 절대 혼합하지 않는다.**

---

## 2. P1.A – 풀이 과정 현재 분석 (Fact Analysis)

### 2.1 정식 명칭

```
P1.A – 풀이 과정 현재 분석 (Fact Analysis)
```

### 2.2 역할 정의

- 문제 풀이 **영상**을 기반으로
- 교사가 관찰 가능한 **사실(Fact)**만 기록
- 결과보다 **사고 과정과 행동**에 집중

### 2.3 입력

- 학생 정보: 학교급, 학년, 과목(수학)
- 문제 풀이 영상 (학생 1명, 3문제)
- 문제별 정답 여부 (O/X)

### 2.4 출력 내용

문제별로 다음 항목을 생성한다.

- 관찰된 풀이 특징
- 학습적 강점
- 보완이 필요한 지점

### 2.5 제약 조건

- 추측, 평가, 조언 금지
- 감정적 표현 금지
- 교사용 Fact 기록 톤 유지

---

## 3. P1.B – 풀이 과정 Next Step 도출  
### (Audience-aware Recommendation)

### 3.1 정식 명칭

```
P1.B – 풀이 과정 Next Step 도출 (Audience-aware Recommendation)
```

### 3.2 역할 정의

- P1.A의 분석 결과를 입력으로 사용
- 학생이 **직접 읽을 수 있는 Next Step**을 생성
- 출력물은 **다운로드·프린트 가능 문서**를 전제로 설계

### 3.3 입력

- P1.A 분석 결과
- 문제별 정답 여부 (O/X)
- 학습자 대상:
  - 초등 / 중등 / 고등 (프론트에서 전달)

### 3.4 분기 구조

#### (1) 대상 분기 – Audience Layer

- 초등: 행동 중심, 짧은 문장, 쉬운 어휘
- 중등: 행동 + 이유, 자기 점검 유도
- 고등: 사고 과정 언어화, 자기조절 학습 관점

#### (2) 결과 분기 – Result Layer

- 정답(O):
  - 유지·확장 중심
  - 심화 유사 문항 3개
- 오답(X):
  - 오류 보정 중심
  - 강화 유사 문항 3개 + 단계적 힌트

### 3.5 출력 내용 (문제별)

- 학습 방향 코멘트
- 동일 개념 기반 유사 문항 3개
- 문제 접근 가이드 또는 힌트

### 3.6 제약 조건

- 선행 개념 사용 금지
- 정서적 위로·평가 문구 금지
- 상담/학부모/생기부 문장 생성 금지

---

## 4. P1 전체 구조 요약

```
Input 1: 풀이 과정
 ├─ P1.A : 현재 분석 (Fact)
 └─ P1.B : Next Step (연령·정답 분기 포함)
```

이 구조는:
- 엔진 교체 및 A/B 테스트 가능
- 로그 추적 및 설명 책임 확보
- 교육 현장 민원 리스크 최소화

---

## 5. 내부 공유용 한 줄 정의

- **P1.A**: “풀이 영상을 교사의 관찰 기록으로 바꾸는 프롬프트”
- **P1.B**: “관찰 결과를 학생 눈높이의 다음 학습 행동으로 번역하는 프롬프트”
